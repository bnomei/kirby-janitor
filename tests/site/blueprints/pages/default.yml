title: Default Page
preset: page
fields:

  text:
    type: text

  kirby_clearcache:
    type: janitor
    label: Kirby Clear Cache
    progress: Kirby Clear Cache...
    command: clear:cache
    args: --name pages

  janitor_clean:
    type: janitor
    label: Clean Cache Files
    progress: Cleaning Cache Files...
    command: clean

  janitor_flush:
    type: janitor
    label: Flush Pages Cache
    progress: Flushing Pages Cache...
    command: flush

  janitor_clipboarddata:
    type: janitor
    label: Data Clipboard
    progress: Copied!
    clipboard: true
    args: '--data {{ page.title }}'

  janitor_clipboardfetch:
    type: janitor
    label: Fetch Clipboard
    command: clipboard
    args: '--data {{ user.email }}'

  janitor_reload:
    type: janitor
    label: Reload
    command: reload

  janitor_href:
    type: janitor
    label: Open URL
    command: openurl
    intab: true

  janitor_hrefdata:
    type: janitor
    label: Open URL from Data
    command: openurlfromdata
    args: '--data {{ page.url }}'

  janitor_download:
    type: janitor
    label: Download File
    command: download

  janitor_minimal:
    type: janitor
    label: Minimal
    command: minimal

  janitor_minimaldata:
    type: janitor
    label: Minimal Data
    command: minimaldata
    error: '{{ page.title }}'
    args: '--data {{ page.url }}'

  janitor_whistle:
    type: janitor
    label: Whistle
    command: whistle

  janitor_query:
    type: janitor
    label: Query '{{ user.email }}'
    command: query
    args: '--data {{ user.email }}'

  janitor_unsaved:
    type: janitor
    label: Disable when Page has changes
    command: minimal
    unsaved: false

  janitor_autosave:
    type: janitor
    label: Save page and then run job
    command: query
    args: '--data {{ page.text }}'
    autosave: true

  # NOTE: Is better to generate thumbs via CLI / SSH / CRON
  # since most servers have 30sec php timeout for web
  janitor_thumbs:
    type: janitor
    label: Generate Thumbs
    process: Generating Thumbs...
    command: thumbs
    args: 'page' # 'page' means only this page. could be 'site.index' or other querys without {{}}.
